jaeger-operator:
  jaeger:
    # Specifies whether Jaeger instance should be created
    create: true

    spec:
      strategy: allInOne
      allInOne:
        options:
          query:
            base-path: /jaeger

      storage:
        options:
          memory:
            max-traces: 100000

  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

  # nodeSelector:
  #   agentpool: monitoring

  rbac:
    # Specifies whether RBAC resources should be created
    create: true
    pspEnabled: false
    clusterRole: true

janus:
  enabled: true
  host: {{ .Values.ingress.hosts.main.host | quote }}
  certmanagerIssuer:
    name: {{ .Values.ingress.certmanagerissuer | quote }}
    kind: ClusterIssuer

  ingressRoutes:
    - name: jaeger-operator
      entryPoints:
        - websecure
      routes:
        - kind: Rule
          match: PathPrefix(`/jaeger`)
          services:
            - name: jaeger-operator-jaeger-query
              port: 16686
          middlewares:
            # - name: oauth-errors
            #   namespace: networking
            # - name: oauth-auth
            #   namespace: networking
            - name: auth
              namespace: networking
      certificate:
        enabled: true
